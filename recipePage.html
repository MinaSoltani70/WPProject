<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recipe Details</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
   <!-- Font Awesome CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css"> <!-- Custom CSS -->  
  <style>
    #firstRecipeRow {
      margin-top: 50px;
    }
    h2 {
      margin-bottom: 18px;
      color:#EA9239
    }
    .col-md-4 {
      margin-top: 20px;
    }
    .col-md-8 {
      margin-top: 20px;
    }
    .rating {
      display: inline-flex;
      list-style: none;
      padding: 0;
    }
    .rating li {
      margin-right: 5px;
    }

    .rating .fa-star {
      cursor: pointer;
      color: #EA9239 !important;
    }
    ul.rating  {
      margin-right: 5px;
    }
    .btn-succes {
      border-color: #EA9239;
      padding: 5px 10px;
      border-radius: 8px;
      cursor: pointer;
      color: #EA9239;
    }
    .btn-succes:hover {
      background-color: #EA9239;
      opacity: 0.8;
      color: white;
      transition: 1s;
    }
    .px-4 {
        padding-left: 0.8rem !important; 
    }
    .equal-height {
    display: flex;
}

.equal-height > [class*="col-"] {
    display: flex;
    flex-direction: column;
}

.equal-height > [class*="col-"] > .border {
    flex: 1;
}

/* Style the scrollbar */
.comments-box::-webkit-scrollbar {
    width: 5px; /* Adjust as needed */
}

/* Track styles */
.comments-box::-webkit-scrollbar-track {
    background: #f5f5f5; /* Lighter gray */
}

/* Handle styles */
.comments-box::-webkit-scrollbar-thumb {
    background: #ddd; /* Lighter shade of gray */
    border-radius: 5px;
}

/* Handle hover styles */
.comments-box::-webkit-scrollbar-thumb:hover {
    background: #bbb; /* Even lighter shade of gray */
}

</style>
    
</head>
<body>

    <div class="container-fluid">
        <!-- First row for logo, search bar, and login -->
        <div class="row align-items-center">
            <div class="col-auto">
                <a href="index.html" class="logo-button">
                    <img src="./images/logo.png" alt="Logo" class="logo">
                </a>
            </div>
            
          <div class="col">
            <form class="form-inline my-2 my-lg-0">
              <div class="d-flex">
                <input class="form-control mr-sm-2 search-bar" type="search" placeholder="Search for..." aria-label="Search" >
                <button class="btn btn-search my-2 my-sm-0" type="submit">
                  <i class="bi bi-search-heart"></i> <!-- Bootstrap icon for search -->
                </button>
              </div>
            </form>
              <!-- Error box for displaying error message -->
          <div class="row">
            <div class="col">
                <div class="error-box"></div>
            </div>
        </div>
          </div>
          <div class="col-auto">
            <div class="d-flex align-items-center">
              <!-- Button for small screens -->
              <a href="login.html" class="btn  btn-orange d-block d-sm-none btn-xs">
                <i class="bi bi-person-fill me-1"></i> 
              </a>          
              <!-- Login Logout and Signup for larger screens -->
              <div id="login" class="d-none d-sm-block">
                <a href="login.html" class="login-button login">Log in </a>
              </div>
              <div id="signup" class="ms-2 d-none d-sm-block">
                <a href="signup.html" class="login-button signup">Sign up</a>
              </div>
              <div id="logout" class="ms-2 d-none d-sm-block">
                <a href="/logout" class="login-button signup" >Log out</a>
              </div>
            </div>
          </div>
        </div>
          
        <!-- Second Row -->
        <div class="row">
          <div class="col">
            <nav class="navbar navbar-expand-md navbar-light bg-light w-100 navbar-expand-custom">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="index.html"><b>HOME</b></a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <b>MY TASTOPIA</b>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item" href="MyTastopia.html#share-new-recipe">Share a new recipe</a></li>
                      <li><a class="dropdown-item" href="MyTastopia.html#my-recipes">My recipes</a></li>
                      <li><a class="dropdown-item" href="MyTastopia.html#saved-recipes">Saved recipes</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarRecipeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <b>RECIPES</b>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item" href="#">Starter</a></li>
                      <li><a class="dropdown-item" href="#">Main Course</a></li>
                      <li><a class="dropdown-item" href="#">Dessert</a></li>
                      <li><a class="dropdown-item" href="#">Pastry</a></li>
                      <li><a class="dropdown-item" href="#">Beverage</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="aboutUs.html"><b>ABOUT US</b></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="contact.html"><b>CONTACT</b></a>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>

<!-- Recipe Details -->
<!-- First Recipe Row -->
<div class="container" id="firstRecipeRow">
    <div class="row">
        <!-- Image Column -->
            <div class="col-md-4">
                <img src="" class="img-fluid" alt="Image" id="recipeImage">
            </div>
            <!-- Content Column -->
            <div class="col-md-8 mt-5">
                <div class="row">
                    <h2 class="text-md-start text-center">Title</h2>
                </div>
                <div class="row mb-3 mb-10">
                    <!-- Username -->
                    <div class="col-md-4">
                        <p class="text-md-start text-center" style="color: #EA9239;">Username</p>
                    </div>
                    <div class="col-md-8 text-md-end text-center">
                        <!-- Rating Component -->
                        <div class="container" id="rateSave">
                            <ul class="rating d-inline-flex " data-mdb-toggle="rating" readonly>
                                <li><i class="far fa-star fa-sm text-primary" title="Bad"></i></li>
                                <li><i class="far fa-star fa-sm text-primary" title="Poor"></i></li>
                                <li><i class="far fa-star fa-sm text-primary" title="OK"></i></li>
                                <li><i class="far fa-star fa-sm text-primary" title="Good"></i></li>
                                <li><i class="far fa-star fa-sm text-primary" title="Excellent"></i></li>
                                <li><span id="rating-value">(3/5)</span></li>
                            </ul>
                            <!-- Save Button -->
                            <button class="btn btn-succes"><i class="bi bi-bookmark"></i> Save it!</button>
                        </div>
                    </div>
                </div>
                 <!-- Description Text -->
                 <div class="row">
                    <div class="col-md-12">
                        <p class="text-md-start text-center">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum voluptate, quod natus soluta tempora laudantium incidunt esse tenetur accusantium eius voluptatem consequatur nam adipisci animi earum dolorem impedit eligendi asperiores! Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium ipsum nam eaque. Cumque ea laborum eius. Ut possimus sequi iusto, porro dolorum officia mollitia accusamus, nostrum inventore unde commodi saepe! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos fugiat voluptates ducimus ad odit fuga non reprehenderit quidem facilis unde, explicabo in! Ipsum dignissimos facere possimus suscipit, a eaque totam!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Second Recipe Row -->
<div class="container mt-5 px-4">
    <div class="row gx-4 equal-height">
        <div class="col-md-4">
            <div class="border mb-4" style="border: 1px solid #EA9239 !important; border-radius: 10px; padding: 20px;">
                <div class="prep-ingredient-box">
                    <p style="color: #EA9239; border: 1px solid transparent; display: inline-block; cursor: not-allowed; font-size: 18px; padding-top:10px" id="prepTime">
                        <i class="bi bi-clock-fill" style="color: #EA9239; font-size: 17px; margin-right: 5px;"></i> 30 minutes
                    </p>                
                    <h5><b>Ingredients:</b></h5>
                    <!-- Add ingredients with DOM manipulation -->
                    <ol id="ingredients">
                        <li>Ingredient 1</li>
                        <li>Ingredient 2</li>
                        <li>Ingredient 3</li>
                        <li>Ingredient 4</li>
                    </ol>
                </div>
            </div>
            <!-- Comments Section -->
            <div class="border" style="border: 1px solid #EA9239 !important; border-radius: 10px; padding: 20px;">
                 <div class="comments-box" style="height: 200px; overflow-y: auto;">
                     <h5><b>See how others liked this food:</b></h5>
                    <!-- Add comments with DOM manipulation -->
                    <div class="comment" style="border: 1px solid black; border-radius: 5px; padding: 5px; margin-bottom: 10px; background-color: #f0f0f0;">
                         <p><span style="color: #EA9239; font-weight: bold;">User 1:</span><br>This recipe was fantastic!</p>
                    </div>
                    <div class="comment" style="border: 1px solid black; border-radius: 5px; padding: 5px; margin-bottom: 10px; background-color: #f0f0f0;">
                        <p><span style="color: #EA9239; font-weight: bold;">User 2:</span><br>I added a bit more spice and it turned out great!</p>
                    </div>
                    <div class="comment" style="border: 1px solid black; border-radius: 5px; padding: 5px; margin-bottom: 10px; background-color: #f0f0f0;">
                         <p><span style="color: #EA9239; font-weight: bold;">User 3:</span><br>I loved this recipe! I will definitely make it again.</p>
                     </div>
                    <div class="comment" style="border: 1px solid black; border-radius: 5px; padding: 5px; margin-bottom: 10px; background-color: #f0f0f0;">
                         <p><span style="color: #EA9239; font-weight: bold;">User 4:</span><br>This was a hit with my family!</p>
                    </div>
                </div>
            </div>  
        </div>
        <div class="col-md-8">
            <div class="border" style="border: 1px solid #EA9239 !important; border-radius: 10px; padding: 20px; display: flex; flex-direction: column;">
                <div class="instruction-box">
                    <h5><b>Instruction:</b></h5>
                    <!-- Change the steps with DOM manipulation -->
                    <ol style="padding-left: 20px;">
                        <li style="margin-bottom: 5px;"> Lorem ipsum, dolor sit amet consectetur adipisicing elit. Soluta magnam qui quae in nihil temporibus id illo fugit nostrum a laudantium nesciunt illum incidunt, molestiae sit corrupti aliquid distinctio! Molestiae!</li>
                        <li style="margin-bottom: 5px;"> Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis iusto veritatis odit officia neque illum beatae enim corrupti consequuntur, aut quod impedit est id ex, provident aspernatur maxime velit ea. </li>
                    </ol>                    
                </div>
                <div id="reviewSection" style="margin-top: auto; padding: 0 25px;">
                    <div>
                        <p><h5><b>Rate and Review</b></h5></p>
                        <!-- Rating component -->
                        <ul class="rating" data-mdb-toggle="rating">
                            <li>
                                <i class="far fa-star fa-sm text-primary" title="Bad"></i>
                            </li>
                            <li>
                                <i class="far fa-star fa-sm text-primary" title="Poor"></i>
                            </li>
                            <li>
                                <i class="far fa-star fa-sm text-primary" title="OK"></i>
                            </li>
                            <li>
                                <i class="far fa-star fa-sm text-primary" title="Good"></i>
                            </li>
                            <li>
                                <i class="far fa-star fa-sm text-primary" title="Excellent"></i>
                            </li>
                        </ul>
                    </div>
                    <form id="commentForm">
                        <div style="position: relative;">
                            <textarea id="comment" name="comment" style="width: 100%; height: 100px; background-color: #f0f0f0; border-radius: 10px; margin-top: auto; margin:0; padding-right: 50px; resize: none;" placeholder="Write a comment..."></textarea>
                            <button type="submit" style="position: absolute; right: 10px; bottom: 10px; border-color:transparent">
                            <i class="bi bi-send"></i> <!-- Bootstrap 5 send icon -->
                            </button>
                        </div>
                    </form>
                </div>
                
            </div>
        </div>
    </div>
</div>

<!-- Third Recipe Row -->
<div class="container mt-5">
    <div class="row">
    <h4><b>Other recipes by</b></h4>
    </div>
</div>


  

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="./js/index.js" ></script> 
  <script type="module" src="./js/switch.js" ></script>
  <script type="module" src="./js/searchResults.js" ></script>
  <script type="module" src="./js/categories.js" ></script>
  <!--Rating Value JS-->
  <script>
  // Get all the required values from database and modify the code accordingly
  const ratingData = {
    "rating": 3,
    "text": "OK"
  };

  // Get the ul element
  const ulElement = document.querySelector('.rating');

  // Get all the li elements inside the ul
  const liElements = ulElement.querySelectorAll('li');

  // Get the rating text element
  const ratingTextElement = document.getElementById('rating-value');

  // Loop through each li element and update the class of the i element based on the rating
  liElements.forEach((li, index) => {
    const iElement = li.querySelector('i');
    if (index < ratingData.rating) {
      iElement.classList.remove('far');
      iElement.classList.add('fas');
      iElement.classList.add('text-primary');
    } else {
      iElement.classList.remove('fas');
      iElement.classList.add('far');
      iElement.classList.remove('text-primary');
    }
  });

  // Set the title attribute of the ul element to display the corresponding text for the rating
  ulElement.setAttribute('title', ratingData.text);

  // Display the rating text below the rating component
  ratingTextElement.innerHTML = ratingData.rating;
</script>
  <!-- Rating Component JS -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
      const ratingElement = document.querySelectorAll('.rating')[1];
      const stars = ratingElement.querySelectorAll('.fa-star');
  
      stars.forEach((star, index) => {
        star.addEventListener('click', function() {
          const rating = index + 1;
          resetRating();
          highlightStars(rating);
        });
      });
  
      function resetRating() {
        stars.forEach(star => {
          star.classList.remove('fas');
          star.classList.add('far');
        });
      }
  
      function highlightStars(rating) {
        for (let i = 0; i < rating; i++) {
          stars[i].classList.remove('far');
          stars[i].classList.add('fas');
        }
      }
    });
  </script>
</body>
</html>
